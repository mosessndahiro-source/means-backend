(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"7Q9M":function(e,t,n){"use strict";n.r(t);var r=n("vTDv"),a=n("tyNb"),i=n("fXoL");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rides"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:[a.h],encapsulation:2}),e})();var d=n("YPVp"),s=n("CdOr"),o=n("uhSi"),p=n("aceb"),c=n("RS3s"),m=n("sYmb");let u=(()=>{class e extends d.a{constructor(e,t,n){super(t),this.client=e,this.coreService=t,this.route=n,this.columns=[{key:"id",translation_key:"RIDE.FIELDS.ID.LABEL",column:{title:"",type:"string"}},{key:"profile",translation_key:"RIDE.FIELDS.PROFILE.LABEL",column:{title:"",type:"string",valuePrepareFunction:e=>e.user.mobile_number}},{key:"status",translation_key:"RIDE.FIELDS.STATUS.LABEL",column:{title:"",type:"string"}},{key:"price_per_seat",translation_key:"RIDE.FIELDS.PRICE.LABEL",column:{title:"",type:"string",filter:!1}}],this.editPageUrl="pages/rides/edit"}ngOnInit(){super.ngOnInit(this.client.getBaseEndpoint())}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["list"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:6,consts:[["nbSpinnerStatus","danger",3,"nbSpinner"],[3,"settings","source","delete","edit"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"nb-card"),i["\u0275\u0275elementStart"](1,"nb-card-header"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"nb-card-body",0),i["\u0275\u0275elementStart"](5,"ng2-smart-table",1),i["\u0275\u0275listener"]("delete",(function(e){return t.onDeleteConfirm(e)}))("edit",(function(e){return t.edit(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,4,"RIDE.LABELS.LIST")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("nbSpinner",t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[p.o,p.p,p.n,p.Z,c.b],pipes:[m.c],styles:[".nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%], .nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();var E=n("lJxs"),S=n("JIr8");n("HxAg");class v{}class I{}class b{}var g=n("QNOW"),h=n("LRne"),D=n("gnPH"),L=n("tk/3"),f=n("3Pt+"),y=n("ofXK");const R=["googleMap"];function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e," ")}}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label",15),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e)}}let A=(()=>{class e{constructor(e,t,n,r,a){this.client=e,this.coreService=t,this.route=n,this.categoryClient=r,this.ride=new v,this.rideRequest=new I,this.rideError=new b,this.showProgress=!1,this.showProgressButton=!1,this.categories=[],this.rideStatusList=["pending","accepted","onway","ongoing","complete","cancelled","rejected"],this.editId=null;let i=t.appConfigService.getConfig().mapsApiKey;this.apiLoaded=a.jsonp("https://maps.googleapis.com/maps/api/js?key="+i,"callback").pipe(Object(E.a)(()=>!0),Object(S.a)(()=>Object(h.a)(!1)))}ngOnInit(){this.getEditData()}getEditData(){let e=this.route.snapshot.paramMap.get("id");e&&(this.editId=e,this.getDataById(e).subscribe())}getDataById(e){return this.showProgress=!0,this.client.show(e).pipe(Object(E.a)(e=>(this.showProgress=!1,this.ride=e,this.rideRequest.status=this.ride.status,e)))}saveRide(){this.showProgressButton=!0;const e=new FormData;e.append("status",this.rideRequest.status),(this.editId?this.client.update(this.editId,e):this.client.store(e)).subscribe(e=>{this.showProgressButton=!1,this.coreService.toastService.showToast(g.b.SUCCESS,"Saved","Saved successfully!"),this.back()},e=>{var t;this.showProgressButton=!1,this.coreService.toastService.showToast(g.b.DANGER,"Failed",e.error.message),e.error.errors&&(this.rideError.status=null===(t=e.error.errors)||void 0===t?void 0:t.status)})}back(){this.coreService.location.back()}parseFloat(e){return parseFloat(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](D.a),i["\u0275\u0275directiveInject"](L.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["save"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](R,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.googleMap=n.first)},decls:117,vars:76,consts:[[1,"row"],[1,"col-md-12"],["nbSpinnerStatus","danger",3,"nbSpinner"],[3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["readonly","","nbInput","","fullWidth","",3,"value"],[1,"col-md-6"],["fullWidth","","name","status","id","status",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],["status","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","error text-danger",4,"ngFor","ngForOf"],["type","submit","nbButton","","status","success","size","medium","nbSpinnerStatus","success","nbSpinnerSize","small",3,"disabled","nbSpinner"],["type","button","nbButton","","status","danger","size","medium",3,"click"],[3,"value"],[1,"error","text-danger"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"nb-card"),i["\u0275\u0275elementStart"](3,"nb-card-body",2),i["\u0275\u0275elementStart"](4,"form",3,4),i["\u0275\u0275listener"]("ngSubmit",(function(){return t.saveRide()})),i["\u0275\u0275elementStart"](6,"div",0),i["\u0275\u0275elementStart"](7,"div",1),i["\u0275\u0275elementStart"](8,"nb-card"),i["\u0275\u0275elementStart"](9,"nb-card-header"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"nb-card-body"),i["\u0275\u0275elementStart"](13,"div",5),i["\u0275\u0275elementStart"](14,"label"),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",5),i["\u0275\u0275elementStart"](19,"label"),i["\u0275\u0275text"](20),i["\u0275\u0275pipe"](21,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](22,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",5),i["\u0275\u0275elementStart"](24,"label"),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](27,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",0),i["\u0275\u0275elementStart"](29,"div",1),i["\u0275\u0275elementStart"](30,"nb-card"),i["\u0275\u0275elementStart"](31,"nb-card-header"),i["\u0275\u0275text"](32),i["\u0275\u0275pipe"](33,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"nb-card-body"),i["\u0275\u0275elementStart"](35,"div",0),i["\u0275\u0275elementStart"](36,"div",1),i["\u0275\u0275elementStart"](37,"div",5),i["\u0275\u0275elementStart"](38,"label"),i["\u0275\u0275text"](39),i["\u0275\u0275pipe"](40,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](41,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"div",0),i["\u0275\u0275elementStart"](43,"div",7),i["\u0275\u0275elementStart"](44,"div",5),i["\u0275\u0275elementStart"](45,"label"),i["\u0275\u0275text"](46),i["\u0275\u0275pipe"](47,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](48,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",7),i["\u0275\u0275elementStart"](50,"div",5),i["\u0275\u0275elementStart"](51,"label"),i["\u0275\u0275text"](52),i["\u0275\u0275pipe"](53,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](54,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"div",0),i["\u0275\u0275elementStart"](56,"div",1),i["\u0275\u0275elementStart"](57,"nb-card"),i["\u0275\u0275elementStart"](58,"nb-card-header"),i["\u0275\u0275text"](59),i["\u0275\u0275pipe"](60,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"nb-card-body"),i["\u0275\u0275elementStart"](62,"div",0),i["\u0275\u0275elementStart"](63,"div",1),i["\u0275\u0275elementStart"](64,"div",5),i["\u0275\u0275elementStart"](65,"label"),i["\u0275\u0275text"](66),i["\u0275\u0275pipe"](67,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](68,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"div",0),i["\u0275\u0275elementStart"](70,"div",7),i["\u0275\u0275elementStart"](71,"div",5),i["\u0275\u0275elementStart"](72,"label"),i["\u0275\u0275text"](73),i["\u0275\u0275pipe"](74,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](75,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"div",7),i["\u0275\u0275elementStart"](77,"div",5),i["\u0275\u0275elementStart"](78,"label"),i["\u0275\u0275text"](79),i["\u0275\u0275pipe"](80,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](81,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](82,"div",5),i["\u0275\u0275elementStart"](83,"label"),i["\u0275\u0275text"](84),i["\u0275\u0275pipe"](85,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](86,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](87,"div",5),i["\u0275\u0275elementStart"](88,"label"),i["\u0275\u0275text"](89),i["\u0275\u0275pipe"](90,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](91,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](92,"div",5),i["\u0275\u0275elementStart"](93,"label"),i["\u0275\u0275text"](94),i["\u0275\u0275pipe"](95,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](96,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](97,"div",5),i["\u0275\u0275elementStart"](98,"label"),i["\u0275\u0275text"](99),i["\u0275\u0275pipe"](100,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](101,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"div",5),i["\u0275\u0275elementStart"](103,"label"),i["\u0275\u0275text"](104),i["\u0275\u0275pipe"](105,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](106,"nb-select",8,9),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.rideRequest.status=e})),i["\u0275\u0275template"](108,B,2,2,"nb-option",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](109,x,2,1,"label",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](110,"button",12),i["\u0275\u0275text"](111),i["\u0275\u0275pipe"](112,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](113," \xa0 "),i["\u0275\u0275elementStart"](114,"button",13),i["\u0275\u0275listener"]("click",(function(){return t.back()})),i["\u0275\u0275text"](115),i["\u0275\u0275pipe"](116,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](5);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("nbSpinner",t.showProgress),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](11,38,"RIDE.FIELDS.PROFILE.HEADER")),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](16,40,"RIDE.FIELDS.PROFILE.NAME.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",null==t.ride.profile?null:t.ride.profile.user.name),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](21,42,"RIDE.FIELDS.PROFILE.EMAIL.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",null==t.ride.profile?null:t.ride.profile.user.email),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](26,44,"RIDE.FIELDS.PROFILE.MOBILE_NUMBER.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",null==t.ride.profile?null:t.ride.profile.user.mobile_number),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](33,46,"RIDE.FIELDS.ADDRESS_FROM.HEADER")),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](40,48,"RIDE.FIELDS.ADDRESS_FROM.ADDRESS.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.address_from),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](47,50,"RIDE.FIELDS.ADDRESS_FROM.LATITUDE.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.latitude_from),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](53,52,"RIDE.FIELDS.ADDRESS_FROM.LONGITUDE.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.longitude_from),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](60,54,"RIDE.FIELDS.ADDRESS_TO.HEADER")),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](67,56,"RIDE.FIELDS.ADDRESS_TO.ADDRESS.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.address_to),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](74,58,"RIDE.FIELDS.ADDRESS_TO.LATITUDE.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.latitude_to),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](80,60,"RIDE.FIELDS.ADDRESS_TO.LONGITUDE.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.longitude_to),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](85,62,"RIDE.FIELDS.PRICE.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.price_per_seat),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](90,64,"RIDE.FIELDS.SEATS.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.seats),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](95,66,"RIDE.FIELDS.RIDE_ON.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.ride_on),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](100,68,"RIDE.FIELDS.CREATED_AT.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.ride.created_at),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](105,70,"RIDE.FIELDS.STATUS.LABEL")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.rideRequest.status),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.rideStatusList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.rideError.status),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.form.valid||t.showProgressButton)("nbSpinner",t.showProgressButton),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](112,72,"COMMON.SAVE")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](116,74,"COMMON.BACK")," ")}},directives:[p.o,p.n,p.Z,f.B,f.q,f.r,p.p,p.B,p.U,f.p,f.s,y.l,p.l,p.Q],pipes:[m.c],encapsulation:2}),e})();const F=[{path:"",component:l,children:[{path:"add",component:A},{path:"list",component:u},{path:"edit/:id",component:A}]}];let O=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(F)],a.g]}),e})();n("HDdC"),n("2Vo4"),n("XNiG"),n("itXk"),n("IzEk"),n("UXun"),n("1G5W");let _=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();n.d(t,"RidesModule",(function(){return w}));let w=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.a,O,_]]}),e})()}}]);